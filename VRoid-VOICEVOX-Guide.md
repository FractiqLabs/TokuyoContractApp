# VRoid & VOICEVOX 統合ガイド

このガイドでは、TokuyoContractAppにVRoidStudioで作成したキャラクターとVOICEVOXで生成した音声を統合する方法を説明します。

## 📋 必要なもの

### VRoidファイル
- **ファイル形式**: `.vrm`
- **推奨サイズ**: 50MB以下
- VRoidStudioから「VRMエクスポート」で出力されたファイル

### VOICEVOX音声ファイル
- **ファイル形式**: `.wav` または `.mp3`
- **推奨品質**: 44.1kHz, 16bit
- **ファイル名**: 連番推奨（例：`voice_01.wav`, `voice_02.wav`）

## 🚀 使用方法

### 1. VRoidキャラクターの追加

1. アプリを開いて、キャラクターエリア左上の「📁 VRoidアップロード」ボタンをクリック
2. `.vrm`ファイルを選択してアップロード
3. 3Dキャラクターが表示されます

### 2. VOICEVOX音声の追加

1. キャラクターエリア左上の「🎤 音声アップロード」ボタンをクリック
2. 複数の音声ファイルを一度に選択可能
3. 各セクションに対応する音声が順番に再生されます

### 3. 音声とキャラクターの同期

- 「▶」ボタンを押すと、VOICEVOX音声とVRoidキャラクターのリップシンクが自動的に同期されます
- キャラクターは音声に合わせて口を動かし、表情も変化します

## 🎭 キャラクター機能

### 自動アニメーション
- **呼吸アニメーション**: 静止時に軽く揺れる動作
- **リップシンク**: 音声再生時の口の動き
- **表情変化**: 話している時の自然な表情

### 対応表情
- `happy` - 幸せそうな表情
- `relaxed` - リラックスした表情
- `a`, `i`, `u`, `e`, `o` - 各母音の口形

## 🔧 技術仕様

### 対応ブラウザ
- Chrome 90+
- Safari 14+
- Firefox 85+
- Edge 90+

### 対応デバイス
- デスクトップPC
- タブレット（iPad Pro, iPad Air, iPad Mini）
- スマートフォン（制限あり）

### VRMファイル要件
- VRM 0.x および 1.0 対応
- ファイルサイズ: 推奨50MB以下
- BlendShape: 基本的な表情とリップシンク対応

## 📝 使用上の注意

### パフォーマンス
- 高解像度のVRMファイルは読み込みに時間がかかる場合があります
- 複数の音声ファイルを一度にアップロードする際は、ファイルサイズにご注意ください

### ファイル管理
- アップロードされたファイルはブラウザのメモリに一時的に保存されます
- ページをリロードすると再度アップロードが必要です

### フォールバック機能
- VRoidまたはVOICEVOX音声が利用できない場合、自動的に2Dキャラクターとブラウザ音声合成にフォールバックします

## 🎯 推奨ワークフロー

1. **VRoidStudio**でキャラクターを作成・調整
2. **VOICEVOX**で各説明セクションの音声を生成
3. 音声ファイルを`voice_01.wav`, `voice_02.wav`等で連番保存
4. アプリでVRMファイルをアップロード
5. 音声ファイルを一括アップロード
6. 説明開始

## 🐛 トラブルシューティング

### VRMファイルが読み込まれない
- ファイルが破損していないか確認
- ファイルサイズが大きすぎないか確認
- VRM 1.0形式の場合は、VRM 0.x形式で再エクスポートを試行

### 音声が再生されない
- ファイル形式が対応しているか確認（.wav, .mp3）
- ブラウザの音声再生許可設定を確認
- 他のタブで音声が再生されていないか確認

### リップシンクが動作しない
- VRMファイルにBlendShapeが含まれているか確認
- 音声ファイルが正常に読み込まれているか確認

## 📞 サポート

問題が発生した場合は、ブラウザの開発者コンソール（F12）でエラーメッセージを確認してください。